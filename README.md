# node-mafiles
[![npm version](https://img.shields.io/npm/v/mafiles.svg)](https://npmjs.com/package/mafiles)

This provides an easy interface for parsing `maFiles` generated by the [Steam Desktop Authenticator](https://github.com/Jessecar96/SteamDesktopAuthenticator) (a.k.a. SDA, author: Jessecar96), which allows you to manage your steam account from your computer or by an automated system.

It supports decryption of the `maFiles` in case they were encrypted via the SDA program.

# Usage

```ts
import mafiles from 'mafiles';

const maFile = await mafiles("./SDA/manifest.json", 76561197960287930, {
    password: "3ncrypt10n_Passw0rd",
    maFilePath: "./SDA/maFiles/account.maFile"
})

if (maFile != null) console.log(maFile.shared_secret) // 'shared_secret of the account'
```
or as a `.then()` callback
```ts
mafiles("./SDA/manifest.json", 76561197960287930, {
    password: "3ncrypt10n_Passw0rd",
    maFilePath: "./SDA/maFiles/account.maFile"
}).then(maFile => {
    
  if (maFile != null) console.log(maFile.shared_secret) // 'shared_secret of the account'
  
})
```

# Parameters and options
`mafiles(manifestPath, steamid64, options)`
- `manifestPath: string` Path to the SDA manifest.json file containing more information about the maFiles.
- `steamid64: number` steamid64 of the steam account that we want the maFile of.
- `options: object` These are optional.
  - `password: string` The password that was used for encrypting the SDA. Define this for an instant decryption. If the maFile is encrypted and this is not defined, then the user will be prompted for the password via STDIN
  - `maFilePath: string` This allows you to directly specify where the targeted maFile is located. If this option is not defined then it is assumed that the maFile is located in the same folder as the specified `manifest.json` and that it's name is `steamid64.maFile` - where `steamid64` is also already specified.

# Contribution
Feel free to create a pull request!
